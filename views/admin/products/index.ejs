<%- include('../../partials/_admin-navbar') %>
<main class="admin-container fade-in">
  <header class="admin-header">
    <h1><i class="fas fa-box"></i> Product Management</h1>
    <p>Manage your product catalog</p>
  </header>
  <a href="/admin/products/new" class="action-btn success" aria-label="Add New Product"><i class="fas fa-plus"></i> Add New Product</a>
  <% if (products && products.length > 0) { %>
    <div class="products-grid fade-in">
      <% products.forEach(product => { %>
        <div class="product-card">
          <h3><%= product.name %></h3>
          <p><strong>Price:</strong> $<%= product.price.toFixed(2) %></p>
          <p><strong>Category:</strong> <%= product.category %></p>
          <p><strong>Stock:</strong> <%= product.stock %></p>
          <p><strong>Status:</strong> <span class="status-badge status-<%= product.isActive ? 'active' : 'inactive' %>"><i class="fas fa-circle"></i> <%= product.isActive ? 'Active' : 'Inactive' %></span></p>
          <div class="product-actions">
            <a href="/admin/products/<%= product._id %>/edit" class="btn btn-warning" aria-label="Edit Product"><i class="fas fa-edit"></i> Edit</a>
            <form class="delete-form" action="/admin/products/<%= product._id %>?_method=DELETE" method="POST" onsubmit="return confirm('Are you sure you want to delete this product?')">
              <button type="submit" class="btn btn-danger" aria-label="Delete Product"><i class="fas fa-trash"></i> Delete</button>
            </form>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <div class="no-products fade-in">
      <h3><i class="fas fa-box-open"></i> No products found</h3>
      <p>Start by adding your first product!</p>
    </div>
  <% } %>
</main>
<script src="/js/main.js"></script>
<!-- All admin styles are now in style.css -->